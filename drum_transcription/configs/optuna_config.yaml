# Optuna hyperparameter optimization configuration

study:
  name: "drum-transcription-optuna"
  direction: "minimize"
  metric: "val_loss"
  storage: "sqlite:///optuna_study.db"
  load_if_exists: true

trials:
  n_trials: 20
  timeout: 3600  # 1 hour max

parameters:
  learning_rate:
    type: "float"
    low: 0.0001
    high: 0.01
    log: true
    
  batch_size:
    type: "categorical"
    choices: [8, 12, 16, 24]
    
  weight_decay:
    type: "float"
    low: 0.00001
    high: 0.001
    log: true
    
  optimizer:
    type: "categorical"
    choices: ["Adam", "AdamW"]

pruning:
  enabled: true
  monitor: "val_loss"
  patience: 3

training:
  max_epochs: 10  # Quick testing
  early_stopping_patience: 5
  fast_dev_run: false

logging:
  project: "drum-transcription-optuna"
  save_visualizations: true
